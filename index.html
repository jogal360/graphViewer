<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
		<link rel="stylesheet" type="text/css" href="graph-common.css"/>
		<link rel="stylesheet" type="text/css" href="graph-d3.css"/>
		<script src="vendor/d3.js"></script>
		<script src="graph-common.js"></script>
		<script src="graph-d3.js"></script>
<!--
		<script src="interactions_d3.js"></script>
-->
		<script type="text/javascript">//<![CDATA[ 
			function fetchJSONFile(path, callback) {
				var httpRequest = new XMLHttpRequest();
				httpRequest.onreadystatechange = function() {
					if (httpRequest.readyState === 4) {
						//if (httpRequest.status === 200) {
						var data = JSON.parse(httpRequest.responseText);
						if (callback) callback(data);
						//}
					}
				};
				httpRequest.open('GET', path);
				httpRequest.send();
			}
			document.addEventListener('DOMContentLoaded', function() {
				graph = new damasGraph( document.getElementById('graph'));
                                fetchJSONFile('json/example.json', function(data){
                                        graph.load(data);
                                });
			});
			window.addEventListener("resize", function() {
				graph.svg.style.height = window.innerHeight + 'px';
				graph.svg.style.width = window.innerWidth + 'px';
			});	
			//]]>
		</script>

	</head>
	<body>
		<div id="graph"></div>
	</body>
</html>

